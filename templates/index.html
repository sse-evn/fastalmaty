<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FastAlmaty ‚Äî –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</title>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <!-- Chart.js -->
    <link href="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Maps -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=places"></script>
    <!-- –í–Ω–µ—à–Ω–∏–π CSS -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="logo">
                <div class="logo-icon">üöö</div>
                <div>
                    <div class="company-name">FastAlmaty</div>
                    <div class="company-subtitle">–ë–∏–∑–Ω–µ—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</div>
                </div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="#" class="nav-link active" data-page="dashboard"><i class="fas fa-tachometer-alt"></i> –î–∞—à–±–æ—Ä–¥</a></li>
                <li class="nav-item"><a href="#" class="nav-link" data-page="new-order"><i class="fas fa-plus-circle"></i> –ù–æ–≤—ã–π –∑–∞–∫–∞–∑</a></li>
                <li class="nav-item"><a href="#" class="nav-link" data-page="orders"><i class="fas fa-boxes"></i> –ó–∞–∫–∞–∑—ã</a></li>
                <li class="nav-item"><a href="#" class="nav-link" data-page="analytics"><i class="fas fa-chart-line"></i> –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></li>
                <li class="nav-item"><a href="#" class="nav-link" data-page="courier"><i class="fas fa-bicycle"></i> –ö—É—Ä—å–µ—Ä</a></li>
                <li class="nav-item"><a href="#" class="nav-link" data-page="clients"><i class="fas fa-users"></i> CRM</a></li>
                <li class="nav-item"><a href="#" class="nav-link" data-page="settings"><i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
                <li class="nav-item"><a href="#" class="nav-link" data-page="admin"><i class="fas fa-users-cog"></i> –ê–¥–º–∏–Ω</a></li>
            </ul>
            <div class="bot-status">
                <div class="status-indicator"></div>
                <div>
                    <div style="font-weight: 600;">–°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞</div>
                    <div style="font-size: 12px; opacity: 0.7;">v2.1 ‚Ä¢ API: OK</div>
                </div>
            </div>
        </nav>

        <main class="main-content">
            <!-- =============== –î–ê–®–ë–û–†–î =============== -->
            <div id="dashboard" class="page active">
                <div class="page-header">
                    <h1 class="page-title">üìä –î–∞—à–±–æ—Ä–¥</h1>
                    <button class="btn btn-primary" onclick="updateStats()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card total">
                        <div class="stat-header">
                            <div class="stat-title">–í—Å–µ–≥–æ</div>
                            <div class="stat-icon">üì¶</div>
                        </div>
                        <div class="stat-number" id="total-orders">0</div>
                    </div>
                    <div class="stat-card new">
                        <div class="stat-header">
                            <div class="stat-title">–ù–æ–≤—ã–µ</div>
                            <div class="stat-icon">üÜï</div>
                        </div>
                        <div class="stat-number" id="new-orders">0</div>
                    </div>
                    <div class="stat-card progress">
                        <div class="stat-header">
                            <div class="stat-title">–í –ø—É—Ç–∏</div>
                            <div class="stat-icon">üöö</div>
                        </div>
                        <div class="stat-number" id="progress-orders">0</div>
                    </div>
                    <div class="stat-card completed">
                        <div class="stat-header">
                            <div class="stat-title">–ü–æ–ª—É—á–µ–Ω–æ</div>
                            <div class="stat-icon">‚úÖ</div>
                        </div>
                        <div class="stat-number" id="completed-orders">0</div>
                    </div>
                </div>
                <div class="orders-section">
                    <div class="section-header">
                        <h2 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã</h2>
                        <a href="#" class="btn btn-primary" onclick="showPage('orders')">üìã –í—Å–µ</a>
                    </div>
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ö–ª–∏–µ–Ω—Ç</th>
                                <th>–ê–¥—Ä–µ—Å</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–°—É–º–º–∞</th>
                            </tr>
                        </thead>
                        <tbody id="recent-orders"></tbody>
                    </table>
                </div>
            </div>

            <!-- =============== –ù–û–í–´–ô –ó–ê–ö–ê–ó =============== -->
            <div id="new-order" class="page">
                <div class="page-header">
                    <h1 class="page-title">‚ûï –ù–æ–≤—ã–π –∑–∞–∫–∞–∑</h1>
                    <button class="btn btn-primary" onclick="showPage('dashboard')">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                <div class="fast-order-panel">
                    <div class="fast-order-title">‚ö° –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞</div>
                    <form id="fast-order-form">
                        <div class="fast-form-grid">
                            <div class="form-group">
                                <label>üë§ –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å</label>
                                <input type="text" class="form-input" placeholder="–ò–º—è" id="sender-name">
                                <input type="tel" class="form-input" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" id="sender-phone">
                                <textarea class="form-input" placeholder="–ê–¥—Ä–µ—Å –∑–∞–±–æ—Ä–∞" id="sender-address" rows="2"></textarea>
                            </div>
                            <div class="form-group">
                                <label>üë• –ü–æ–ª—É—á–∞—Ç–µ–ª—å</label>
                                <input type="text" class="form-input" placeholder="–ò–º—è" id="receiver-name" required>
                                <input type="tel" class="form-input" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" id="receiver-phone" required>
                                <textarea class="form-input" placeholder="–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏" id="receiver-address" rows="2" required></textarea>
                            </div>
                        </div>
                        <div class="fast-form-grid">
                            <div class="form-group">
                                <label>üì¶ –¢–æ–≤–∞—Ä</label>
                                <input type="text" class="form-input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" id="product-desc">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                    <input type="number" class="form-input" placeholder="–í–µ—Å (–∫–≥)" id="weight" step="0.1">
                                    <input type="number" class="form-input" placeholder="–û–±—ä–µ–º (–ª)" id="volume" step="0.1">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>üí≥ –û–ø–ª–∞—Ç–∞</label>
                                <select class="form-select" id="payment-method">
                                    <option value="cash">–ù–∞–ª–∏—á–Ω—ã–µ</option>
                                    <option value="card">–ö–∞—Ä—Ç–∞</option>
                                    <option value="online">–û–Ω–ª–∞–π–Ω</option>
                                </select>
                                <input type="number" class="form-input" placeholder="–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ (‚Ç∏)" id="delivery-cost" value="500">
                            </div>
                        </div>
                        <div class="action-row">
                            <button type="button" class="btn btn-warning btn-sm" onclick="resetForm()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                            <button type="button" class="btn btn-primary" onclick="submitFastOrder()">‚úÖ –°–æ–∑–¥–∞—Ç—å</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- =============== –í–°–ï –ó–ê–ö–ê–ó–´ =============== -->
            <div id="orders" class="page">
                <div class="page-header">
                    <h1 class="page-title">üì¶ –í—Å–µ –∑–∞–∫–∞–∑—ã</h1>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" class="search-bar" placeholder="–ü–æ–∏—Å–∫..." id="search-input" oninput="searchOrders()">
                        <button class="btn btn-success" onclick="showPage('new-order')">‚ûï –ù–æ–≤—ã–π</button>
                    </div>
                </div>
                <div class="orders-section">
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ü–æ–ª—É—á–∞—Ç–µ–ª—å</th>
                                <th>–ê–¥—Ä–µ—Å</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–∞—Ç–∞</th>
                            </tr>
                        </thead>
                        <tbody id="all-orders"></tbody>
                    </table>
                </div>
            </div>

            <!-- =============== –ê–ù–ê–õ–ò–¢–ò–ö–ê =============== -->
            <div id="analytics" class="page">
                <div class="page-header">
                    <h1 class="page-title">üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h1>
                    <button class="btn btn-primary" onclick="showPage('dashboard')">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                <div class="orders-section">
                    <canvas id="ordersChart" height="100"></canvas>
                </div>
            </div>

            <!-- =============== –ö–£–†–¨–ï–† =============== -->
            <div id="courier" class="page">
                <div class="page-header">
                    <h1 class="page-title">üö¥ –ö—É—Ä—å–µ—Ä</h1>
                    <button class="btn btn-primary" onclick="showPage('dashboard')">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                <div class="orders-section">
                    <div class="section-header">
                        <h2 class="section-title">–ó–∞–∫–∞–∑—ã –≤ –ø—É—Ç–∏</h2>
                        <button class="btn btn-success" onclick="loadCourierOrders()">üîÑ</button>
                    </div>
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ö–ª–∏–µ–Ω—Ç</th>
                                <th>–ê–¥—Ä–µ—Å</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody id="courier-orders"></tbody>
                    </table>
                </div>
            </div>

            <!-- =============== CRM =============== -->
            <div id="clients" class="page">
                <div class="page-header">
                    <h1 class="page-title">üßë‚Äçüíº CRM –ö–ª–∏–µ–Ω—Ç—ã</h1>
                    <button class="btn btn-primary" onclick="showPage('dashboard')">‚Üê –ù–∞–∑–∞–¥</button>
                </div>
                <div class="orders-section">
                    <input type="text" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É..." class="form-input" id="client-search" oninput="searchClient()">
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>–ò–º—è</th>
                                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                <th>–ê–¥—Ä–µ—Å</th>
                                <th>–ó–∞–∫–∞–∑–æ–≤</th>
                            </tr>
                        </thead>
                        <tbody id="clients-list"></tbody>
                    </table>
                </div>
            </div>

            <!-- =============== –ù–ê–°–¢–†–û–ô–ö–ò =============== -->
            <div id="settings" class="page">
                <div class="page-header">
                    <h1 class="page-title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
                    <button class="btn btn-primary" onclick="saveSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
                <div class="orders-section">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏</label>
                    <input type="text" class="form-input" id="setting-company_name">
                    <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ (‚Ç∏)</label>
                    <input type="number" class="form-input" id="setting-delivery_price">
                    <label>API –ö–ª—é—á</label>
                    <input type="text" class="form-input" id="setting-api_key" disabled>
                </div>
            </div>

            <!-- =============== –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ =============== -->
            <div id="admin" class="page">
                <div class="page-header">
                    <h1 class="page-title">üîê –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
                    <button class="btn btn-primary" onclick="showPage('dashboard')">‚Üê –ù–∞–∑–∞–¥</button>
                </div>

                <div class="stats-grid">
                    <div class="stat-card total">
                        <div class="stat-header">
                            <div class="stat-title">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
                            <div class="stat-icon">üë§</div>
                        </div>
                        <div class="stat-number" id="admin-user-count">0</div>
                    </div>
                    <div class="stat-card new">
                        <div class="stat-header">
                            <div class="stat-title">API –ö–ª—é—á–∏</div>
                            <div class="stat-icon">üîë</div>
                        </div>
                        <div class="stat-number" id="admin-api-key-count">0</div>
                    </div>
                </div>

                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
                <div class="orders-section">
                    <div class="section-header">
                        <h2 class="section-title">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
                        <button class="btn btn-success btn-sm" onclick="openAddUserModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                    <table class="orders-table" id="admin-users">
                        <thead>
                            <tr>
                                <th>–õ–æ–≥–∏–Ω</th>
                                <th>–ò–º—è</th>
                                <th>–†–æ–ª—å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API-–∫–ª—é—á–∞–º–∏ -->
                <div class="orders-section" style="margin-top: 30px;">
                    <div class="section-header">
                        <h2 class="section-title">API –ö–ª—é—á–∏</h2>
                        <button class="btn btn-warning btn-sm" onclick="generateApiKey()">‚ûï –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                    <table class="orders-table" id="admin-api-keys">
                        <thead>
                            <tr>
                                <th>–ö–ª—é—á</th>
                                <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                                <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- =============== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –î–û–ë–ê–í–õ–ï–ù–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø =============== -->
            <div id="addUserModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
                <div style="background: white; padding: 24px; border-radius: 12px; width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                    <h3>–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                    <form id="addUserForm">
                        <div style="margin-bottom: 12px;">
                            <label>–õ–æ–≥–∏–Ω</label>
                            <input type="text" class="form-input" name="username" required>
                        </div>
                        <div style="margin-bottom: 12px;">
                            <label>–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" class="form-input" name="password" required>
                        </div>
                        <div style="margin-bottom: 12px;">
                            <label>–ò–º—è</label>
                            <input type="text" class="form-input" name="name" required>
                        </div>
                        <div style="margin-bottom: 12px;">
                            <label>–†–æ–ª—å</label>
                            <select class="form-select" name="role" required>
                                <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                                <option value="manager">–ú–µ–Ω–µ–¥–∂–µ—Ä</option>
                                <option value="courier">–ö—É—Ä—å–µ—Ä</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 16px;">
                            <button type="button" class="btn btn-danger btn-sm" onclick="closeAddUserModal()">–û—Ç–º–µ–Ω–∞</button>
                            <button type="submit" class="btn btn-primary btn-sm">–°–æ–∑–¥–∞—Ç—å</button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JS -->
    <script src="/static/js/app.js"></script>
</body>
</html>